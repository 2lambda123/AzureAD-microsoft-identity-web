# template-build-prerelease-wilson.yaml
# Build against nightly drop Wilson

steps:     
  - task: DotNetCoreCLI@2
    inputs:
      command: 'custom'
      projects: 'Microsoft.Identity.Web.sln'
      custom: 'add'
      arguments: 'package Microsoft.IdentityModel.Logging -s https://identitydivision.pkgs.visualstudio.com/_packaging/IDDP/nuget/v3/index.json -v 6.*-*'
  - task: DotNetCoreCLI@2
    inputs:
      command: 'custom'
      projects: 'Microsoft.Identity.Web.sln'
      custom: 'add' 
      arguments: 'package Microsoft.IdentityModel.Protocols.OpenIdConnect -s https://identitydivision.pkgs.visualstudio.com/_packaging/IDDP/nuget/v3/index.json -v 6.*-*'
  - task: DotNetCoreCLI@2
    inputs:
      command: 'custom'
      projects: 'Microsoft.Identity.Web.sln'
      custom: 'add'
      arguments: 'package System.IdentityModel.Tokens.Jwt -s https://identitydivision.pkgs.visualstudio.com/_packaging/IDDP/nuget/v3/index.json -v 6.*-*'
  - task: DotNetCoreCLI@2
    inputs:
      command: 'custom'
      projects: 'Microsoft.Identity.Web.sln'
      custom: 'add'
      arguments: 'package Microsoft.IdentityModel.Validators -s https://identitydivision.pkgs.visualstudio.com/_packaging/IDDP/nuget/v3/index.json -v 6.*-*'
