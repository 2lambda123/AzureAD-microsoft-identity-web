# template-postbuild-code-analysis.yaml
# Run post-build code analysis (e.g. Roslyn analyzers)

steps:
- task: securedevelopmentteam.vss-secure-development-tools.build-task-roslynanalyzers.RoslynAnalyzers@2
  displayName: 'Run Roslyn Analyzers'
  continueOnError: true
  inputs:
    msBuildCommandline: 'dotnet new Microsoft.Identity.Web.sln --configuration ${{ parameters.BuildConfiguration }} -p:RunCodeAnalysis=true -p:MsIdentityWebSemVer=${{ parameters.MsIdentityWebSemVer }}'

- task: securedevelopmentteam.vss-secure-development-tools.build-task-postanalysis.PostAnalysis@1
  displayName: 'Check Roslyn Results '
  inputs:
    RoslynAnalyzers: true
